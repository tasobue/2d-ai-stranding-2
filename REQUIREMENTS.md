# AIマップ生成ゲーム 要件仕様書

## ゲーム概要

### ゲームタイトル（仮）
AIマップ生成型配達ゲーム

### ジャンル
- ドット絵2Dゲーム
- 探索・移動ゲーム
- AIプロシージャル生成

### 基本コンセプト
HoloCure風のドット絵ビジュアルで、Death Stranding風の配達・移動体験を提供する。AIが自動生成する広大なマップを目的地まで移動するゲーム。

---

## ビジュアル・アートスタイル

### 画面構成
- **視点**: トップダウン視点（上から見下ろし）
- **アートスタイル**: HoloCure風ドット絵
- **解像度**: 800x600推奨
- **タイルサイズ**: 32x32ピクセル推奨

### 参考ゲーム
- **ビジュアル参考**: HoloCure - Save the Fans!
  - ドット絵キャラクター
  - 2Dトップダウン視点
  - カラフルで親しみやすいデザイン

---

## ゲームプレイ

### 核となるゲームループ
1. AIがマップを自動生成
2. プレイヤーがスタート地点からゴール地点まで移動
3. ゴール到達でクリア
4. 新しいマップが生成される（リプレイ）

### 操作方法
- **移動**: WASD / 矢印キー
- **方向**: 8方向移動
- **移動方式**: タイルベース移動

### ゲーム参考
- **ゲームプレイ参考**: Death Stranding 2: On the Beach
  - 広大なマップを目的地まで移動
  - 地形による移動制限
  - 配達・探索要素

---

## 技術仕様

### 開発言語・フレームワーク
- **言語**: JavaScript / TypeScript
- **ゲームエンジン**: Phaser.js 3.x
- **ビルドツール**: Webpack または Vite
- **実行環境**: ブラウザ（シングルHTMLファイル対応）

### 選定理由
- AIによる開発に最適（豊富な学習データ）
- ライブラリエコシステムが豊富
- ブラウザで直接実行可能
- デバッグが容易

---

## AIマップ生成要件

### コア機能
**最重要**: AIによるマップ自動生成機能

### 重視する要素（優先順）
1. **地形の多様性** （最優先）
   - 複数の地形タイプ
   - 自然な地形分布
   - バイオーム的な地域差

2. **経路の複雑さ** （2番目）
   - 戦略的な経路選択
   - 障害物による迂回要素
   - 複数ルートの存在

3. **視覚的な美しさ** （3番目）
   - ドット絵の魅力的な表現
   - 自然な地形境界
   - アニメーション要素

### 生成要件
- **再現性**: シード値による同一マップ再生成
- **バランス**: ゴールまでの到達可能性保証
- **多様性**: プレイ毎に異なる体験

---

## MVP（最小実用版）要件

### Phase 1: 基本機能
- プレイヤーキャラクターの移動
- スタート地点からゴール地点への移動
- ゴール到達判定
- 基本UI（位置表示、リスタート）

### Phase 2: AI生成機能
- ランダムマップ生成
- 複数地形タイプ（草地、水、山、岩場）
- スタート・ゴール自動配置
- 到達可能性チェック

### 成功基準
- AIが生成したマップでプレイヤーが目的地まで移動できる
- 毎回異なるマップが生成される
- 基本的なゲーム体験が成立している

---

## 地形・環境仕様

### 地形タイプ
1. **草地** - 通常移動速度、基本地形
2. **砂地** - やや移動速度低下
3. **岩場** - 移動速度低下、通行困難
4. **水域** - 通行不可（橋で通行可能）
5. **山地** - 通行不可（峠道でのみ通行可能）
6. **森林** - 移動速度低下、迂回要素

### マップ仕様
- **サイズ**: 20x20グリッド（初期）
- **拡張性**: サイズ選択機能
- **生成パラメータ**: 調整可能な難易度設定

---

## 拡張機能（将来実装）

### ゲーム要素拡張
- 荷物システム（重量による移動影響）
- 中間チェックポイント
- 収集要素・報酬システム
- タイム計測・スコアシステム

### AI生成機能拡張
- 生成パラメータの詳細調整
- 特殊地形・ランドマーク
- 天候・時間変化システム
- マルチバイオーム生成

### UI/UX改善
- BGM・効果音
- パーティクルエフェクト
- アニメーション強化
- セーブ・ロード機能

---

## 開発制約・考慮事項

### 技術制約
- **ブラウザストレージ**: localStorage/sessionStorage使用不可
- **状態管理**: JavaScript変数・オブジェクトによるメモリ内管理
- **外部依存**: CDNからのライブラリ読み込みのみ

### パフォーマンス要件
- **レスポンス**: スムーズな移動・描画
- **生成速度**: マップ生成は数秒以内
- **メモリ使用**: ブラウザ環境での適切なリソース管理

### 開発環境
- **エディタ**: Visual Studio Code推奨
- **テスト**: ブラウザ直接実行
- **デバッグ**: ブラウザ開発者ツール使用

---

## 成果物

### 最終成果物
- 単一HTMLファイルで動作する完全なゲーム
- AIマップ生成機能を搭載
- HoloCure風ビジュアルのドット絵ゲーム
- 再帰的にプレイ可能な探索ゲーム

### 配布方法
- HTMLファイルの直接配布
- GitHub Pages等での公開
- itch.io等での配布